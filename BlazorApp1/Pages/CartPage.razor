@page "/cart"
@using BlazorApp1.Data.Services
@using BlazorApp1.Data.Models
<h3>Количка</h3>

<table class="table">
    <thead>
        <tr>
            <th>Хотел</th>
            <th>Град</th>
            <th>Детайли</th>
            @*<th>№ нощувки</th>*@
            <th>Цена</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var cartItem in Cart.cart)
        {
        <tr>
            <td>@cartItem.Value.HotelName</td>
            <td>@cartItem.Value.City</td>
            <td>@cartItem.Value.RoomDetails</td>
            @*<td>@cartItem.Value.Nights</td>*@
            <td>@cartItem.Value.Price.ToString("0.00") лв.</td>
            <td>
                <span><i @onclick="@(e => Delete(cartItem.Key))" class="glyphicon glyphicon-remove"></i></span>
            </td>
        </tr>
        }
    </tbody>
</table>

<h3>Общо</h3>

<div class="row">
    <div class="col-sm-10"></div>
    <div class="col-sm-2"><label strong>Общо: </label> @Cart.cart.Values.Sum(x => x.Price).ToString("0.00") лв.</div>
</div>

@code {

    private void Delete(int roomId)
    {
        Cart.cart.Remove(roomId);
    }

    private void Pay()
    {

    }

}
